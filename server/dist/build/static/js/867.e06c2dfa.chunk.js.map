{"version":3,"file":"static/js/867.e06c2dfa.chunk.js","mappings":"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","sources":["webpack://client/./src/plan/styles/PlanItem.module.scss?e4bf","webpack://client/./src/payment/styles/PaymentWidget.module.scss?0a0d","payment/widgets/PaymentWidget.tsx","plan/components/PlanItem.tsx","webpack://client/./src/plan/styles/PlanPage.module.scss?0ffd","plan/page/PlanPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"plan__item\":\"PlanItem_plan__item__Owdts\",\"plan__inner\":\"PlanItem_plan__inner__Sgd2H\",\"plan__label\":\"PlanItem_plan__label__J-J8f\",\"plan__block\":\"PlanItem_plan__block__+Lyu4\"};","// extracted by mini-css-extract-plugin\nexport default {\"payment__container\":\"PaymentWidget_payment__container__uvdfj\",\"payment__text\":\"PaymentWidget_payment__text__QqG1H\",\"payment__price\":\"PaymentWidget_payment__price__bZMmh\",\"payment__button\":\"PaymentWidget_payment__button__OrG28\"};","import React, { FC, useState, useEffect } from 'react';\nimport { Box, Typography, Chip, Modal } from '@mui/material';\nimport AttachMoneyIcon from '@mui/icons-material/AttachMoney';\nimport { IPlan } from '../../plan/model/plan.model';\nimport { GET_PAYMENT_URL } from '../../constants';\nimport api from '../../services/http';\nimport styles from '../styles/PaymentWidget.module.scss';\n\ninterface IPaymentModalProps {\n  open: boolean;\n  handleClose: () => void;\n  plan: IPlan\n}\n\ninterface IPayParams {\n    data: string;\n    signature: string;\n}\n\nconst PaymentWidget: FC<IPaymentModalProps> = ({ open, handleClose, plan }) => {\n    const [payForm, setPayForm] = useState<IPayParams | null>(null);\n\n    useEffect(() => {\n        api.get(`${GET_PAYMENT_URL}/${plan.id}`)\n            .then(({ data }) => setPayForm(data));\n\n        return () => {\n            setPayForm(null);\n        };\n    }, [plan.id]);\n\n    return (\n        <Modal open={open} onClose={handleClose}>\n            <Box className={styles.payment__container} sx={{ bgcolor: 'background.paper' }}>\n                {payForm && (\n                    <>\n                        <Typography variant=\"h4\" pb={4}>Buy Plan</Typography>\n                        <Chip\n                            component=\"p\"\n                            color=\"secondary\"\n                            variant=\"outlined\"\n                            label={plan.name}\n                        />\n                        <Typography variant=\"body2\" pt={4} pb={1} className={styles.payment__text}>for</Typography>\n                        <Typography variant=\"body2\" pb={1} className={styles.payment__price}>\n                            <AttachMoneyIcon />\n                            {plan.cost}\n                        </Typography>\n                        <Typography variant=\"body2\" pb={4} className={styles.payment__text}>in a month</Typography>\n                        <form method=\"POST\" action=\"https://www.liqpay.ua/api/3/checkout\" acceptCharset=\"utf-8\">\n                            <input type=\"hidden\" name=\"data\" value={payForm!.data} />\n                            <input type=\"hidden\" name=\"signature\" value={payForm!.signature} />\n                            <input\n                                className={styles.payment__button}\n                                type=\"image\"\n                                src=\"//static.liqpay.ua/buttons/p1en.radius.png\"\n                                alt=\"img\"\n                                name=\"btn_text\"\n                            />\n                        </form>\n                    </>\n                )}\n            </Box>\n        </Modal>\n    );\n};\n\nexport default PaymentWidget;\n","import React, { FC, useState } from 'react';\nimport { ListItem, Box, Typography, Button, Chip } from '@mui/material';\nimport AttachMoneyIcon from '@mui/icons-material/AttachMoney';\nimport { IPlan } from '../model/plan.model';\nimport styles from '../styles/PlanItem.module.scss';\nimport { PaymentWidget } from '../../payment';\n\ninterface IPlanItemProps {\n    plan: IPlan;\n    activePlanId: number;\n    authorized: boolean;\n}\n\nconst PlanItem: FC<IPlanItemProps> = ({ plan, activePlanId, authorized }) => {\n    const [open, setOpen] = useState(false);\n    const isActive = plan.id === activePlanId;\n    const bgcolor = isActive ? 'info.main' : '';\n    const planWrapperStyles = {\n        bgcolor,\n        border: '3px solid',\n        borderColor: 'info.dark',\n    };\n\n    const onOpenCharge = async () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const showAuthModal = () => {\n        console.log('Please login first');\n    };\n\n    let button = <Button variant=\"outlined\" disabled>Current Plan</Button>;\n    if (!isActive && authorized) {\n        button = <Button variant=\"contained\" onClick={onOpenCharge}>Activate Now</Button>;\n    } else if (!isActive && !authorized) {\n        button = <Button variant=\"contained\" onClick={showAuthModal}>Activate Now</Button>;\n    }\n\n    return (\n        <>\n            <ListItem className={styles.plan__item}>\n                <Box\n                    color=\"primary\"\n                    className={styles.plan__inner}\n                    sx={planWrapperStyles}\n                    component=\"span\"\n                >\n                    <Chip\n                        className={styles.plan__label}\n                        component=\"p\"\n                        color=\"secondary\"\n                        variant=\"outlined\"\n                        label={plan.name}\n                    />\n                    <Typography className={styles.plan__block}>\n                        <AttachMoneyIcon />\n                        {plan.cost}\n                    </Typography>\n                    <Typography component=\"span\">Month fee</Typography>\n\n                    <Typography className={styles.plan__block}>{plan.projectsNum}</Typography>\n                    <Typography component=\"span\">Projects available</Typography>\n\n                    <Box>\n                        <Typography className={styles.plan__block}>{plan.storingDays}</Typography>\n                        <Typography component=\"span\">Logs store days</Typography>\n                    </Box>\n\n                    <Box className={styles.plan__block}>\n                        { button }\n                    </Box>\n                </Box>\n            </ListItem>\n\n            {open && <PaymentWidget open={open} handleClose={handleClose} plan={plan} />}\n        </>\n    );\n};\n\nexport default PlanItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"plan__wrapper\":\"PlanPage_plan__wrapper__hY8sW\",\"plan__title\":\"PlanPage_plan__title__oVtYB\",\"plan__description\":\"PlanPage_plan__description__bplMV\",\"plan__list\":\"PlanPage_plan__list__913XB\"};","import React from 'react';\nimport { Paper, List, Box, Typography } from '@mui/material';\nimport PlanItem from '../components/PlanItem';\nimport { useAppSelector } from '../../hooks/redux';\nimport styles from '../styles/PlanPage.module.scss';\nimport ErrBanner from '../../shared/ui/ErrBanner';\n\nconst PlanPage = () => {\n    const { plans, loaded, error } = useAppSelector((state) => state.planReducer);\n    const { user, authorized } = useAppSelector((state) => state.userReducer);\n\n    return (\n        <Paper className={`container ${styles.plan__wrapper}`}>\n            <Typography className={styles.plan__title} variant=\"subtitle2\">\n                Welcome to our Plans section!\n            </Typography>\n            <Typography className={styles.plan__description} variant=\"subtitle2\">\n                Choose from a range of options to tailor your service exactly the way you want it.\n                We offer flexible plans designed to meet your unique needs.\n                Select one of our plans today and take control of your experience.\n            </Typography>\n            { loaded && (\n                <Box flexGrow={1} display=\"flex\">\n                    <Box flexGrow={1} display=\"flex\" flexDirection=\"column\">\n                        <List className={styles.plan__list}>\n                            {plans.map((plan) => (\n                                <PlanItem\n                                    key={plan.id}\n                                    plan={plan}\n                                    activePlanId={user.planId}\n                                    authorized={authorized}\n                                />\n                            ))}\n                        </List>\n                    </Box>\n                </Box>\n            )}\n            <ErrBanner error={error} />\n        </Paper>\n    );\n};\n\nexport default PlanPage;\n"],"names":["_ref","open","handleClose","plan","_useState","useState","_useState2","_slicedToArray","payForm","setPayForm","useEffect","api","get","concat","GET_PAYMENT_URL","id","then","_ref2","data","_jsx","Modal","onClose","children","Box","className","styles","sx","bgcolor","_jsxs","_Fragment","Typography","variant","pb","Chip","component","color","label","name","pt","AttachMoneyIcon","cost","method","action","acceptCharset","type","value","signature","src","alt","activePlanId","authorized","setOpen","isActive","planWrapperStyles","border","borderColor","onOpenCharge","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","button","Button","disabled","onClick","console","log","ListItem","projectsNum","storingDays","PaymentWidget","_useAppSelector","useAppSelector","state","planReducer","plans","loaded","error","_useAppSelector2","userReducer","user","Paper","flexGrow","display","flexDirection","List","map","PlanItem","planId","ErrBanner"],"sourceRoot":""}